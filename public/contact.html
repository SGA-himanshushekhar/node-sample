<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <title>Address book</title>
        <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script type="text/javascript" src="/sha256.js"></script>
        <script type="text/javascript" src="/request.js"></script>
        <script type="text/javascript" src="/ui.js"></script>
        <script type="text/javascript">
            $(document).ready(function () {
                var contactId = location.pathname.split("/").pop();

                refreshContact(contactId);

                $("#contact-button").on("click", function () {
                    var name = $("#contact-name").val();
                    var email = $("#contact-email").val();
                    if (name === "" || email === "") {
                        alert("Please input all fields");
                        return;
                    }

                    updateContact(contactId, {
                        "name": name,
                        "email": email
                    }, function () {
                        refreshContact(contactId);
                    });
                });
            });
        </script>
    </head>

    <body>
        <p>Each view</p>
        <form action="#">
            <p>name:
                <input required id="contact-name">
            </p>
            <p>email:
                <input required id="contact-email">
            </p>
            <p>
                <input type="button" value="Change" id="contact-button">
            </p>
        </form>
        <table class="result">
            <tr class="result-title">
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
            </tr>
        </table>
    </body>

</html>